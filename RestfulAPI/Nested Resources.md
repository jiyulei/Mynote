#restful
### **1. èµ„æºåµŒå¥—ï¼ˆNested Resourcesï¼‰**
åœ¨ RESTful è®¾è®¡ä¸­ï¼Œ**èµ„æºï¼ˆResourceï¼‰å¯ä»¥ç›¸äº’å…³è”**ï¼Œå¸¸è§çš„æ–¹å¼æ˜¯é€šè¿‡**åµŒå¥— URL ç»“æ„**è¡¨ç¤ºå±‚çº§å…³ç³»ã€‚ä¾‹å¦‚ï¼š

| å…³ç³»          | RESTful è·¯å¾„               | è¯´æ˜                     |
| ----------- | ------------------------ | ---------------------- |
| è·å–æ‰€æœ‰å…¬å¸      | `GET /companies`         | è¿”å›æ‰€æœ‰å…¬å¸                 |
| è·å–å•ä¸ªå…¬å¸      | `GET /companies/1`       | è·å– `id=1` çš„å…¬å¸          |
| è·å–æŸå…¬å¸ä¸‹çš„æ‰€æœ‰ç”¨æˆ· | `GET /companies/1/users` | è·å– `companyId=1` çš„æ‰€æœ‰ç”¨æˆ· |
| è·å–å•ä¸ªç”¨æˆ·      | `GET /users/23`          | è·å– `id=23` çš„ç”¨æˆ·         |
**ç›¸å…³ REST è§„èŒƒï¼š**

- **å±‚çº§ç»“æ„è¡¨ç¤ºèµ„æºå…³ç³»**ï¼ˆResource Hierarchyï¼‰
- **`/companies/:id/users` è¡¨ç¤ºâ€œå±äºè¯¥å…¬å¸â€çš„ç”¨æˆ·**
- è¿™å’Œ SQL é‡Œçš„ **å¤–é”®ï¼ˆForeign Keyï¼‰** é€»è¾‘ç±»ä¼¼ï¼Œä½†æ˜¯ç”¨ REST API çš„ URL è¡¨ç¤º

### **2. èµ„æºæ ‡è¯†ç¬¦ï¼ˆResource Identifierï¼‰**

REST è§„èŒƒå»ºè®®ï¼š
- èµ„æºååº”ä½¿ç”¨ **å¤æ•°ï¼ˆcompanies, usersï¼‰**
- èµ„æº ID åº”å”¯ä¸€ï¼Œä¾‹å¦‚ `id=1`
- å…³è”å­—æ®µï¼ˆå¦‚ `companyId`ï¼‰åº”å’Œå…³è”çš„èµ„æºåç§°ä¸€è‡´

åœ¨ `db.json` é‡Œï¼š
``` json
{
  "users": [
    { "id": "23", "firstName": "Bill", "age": 20, "companyId": "1" }
  ],
  "companies": [
    { "id": "1", "name": "Apple", "description": "iphone" }
  ]
}
```

**`companyId` ä¹‹æ‰€ä»¥èƒ½åŒ¹é…åˆ° `companies/1`ï¼Œæ˜¯å› ä¸ºå®ƒå’Œ `companies` è¿™ä¸ªèµ„æºçš„ `id` å­—æ®µç›¸å¯¹åº”**ã€‚å¦‚æœæ”¹åä¸º `firmId`ï¼Œå°±ä¸ç¬¦åˆ REST èµ„æºå‘½åæœ€ä½³å®è·µï¼ŒJSON Server ä¹Ÿæ— æ³•è‡ªåŠ¨è¯†åˆ«ã€‚

---
### ğŸ”¹ **3. é€šè¿‡æŸ¥è¯¢å‚æ•°ï¼ˆQuery Parametersï¼‰è¿‡æ»¤æ•°æ®**
REST API å…è®¸ä½¿ç”¨ **æŸ¥è¯¢å‚æ•°ï¼ˆQuery Parametersï¼‰** æ¥è¿‡æ»¤æ•°æ®ï¼š
``` bash
GET /users?companyId=1
```
è¿™ç­‰ä»·äºï¼š
``` sql
SELECT * FROM users WHERE companyId = 1;
```

JSON Server **å†…éƒ¨ä¼šæŠŠ `/companies/1/users` è½¬æ¢æˆ `GET /users?companyId=1`**ï¼Œè¿™ä¹Ÿæ˜¯å®ƒèƒ½è‡ªåŠ¨åŒ¹é…çš„åŸå› ã€‚

**â© ç›¸å…³ REST è§„èŒƒï¼š**

- **ä½¿ç”¨æŸ¥è¯¢å‚æ•° (`?key=value`) è¿›è¡Œè¿‡æ»¤**
- **`/users?companyId=1` æ˜¯æ ‡å‡†çš„ RESTful æŸ¥è¯¢æ–¹å¼**
- JSON Server åªæ˜¯åˆ©ç”¨è¿™ä¸€è§„èŒƒï¼ŒæŠŠ `companyId` å’Œ `companies/:id` å…³è”èµ·æ¥